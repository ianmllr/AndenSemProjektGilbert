<!DOCTYPE html>
<html lang="en">
<head>
    <title>Title</title>
    <link rel="stylesheet" href="/gilbertstyle.css">
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="/icons/profil.png">
    <meta name="description" content="Køb og salg af brugt mærkevaretøj">
    <meta name="keywords" content="køb, salg, Gucci, Rolex">
    <meta name="author" content="ccco">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<header class="simple-header">
    <h1><a href="/">Gilbert</a></h1>
</header>
<div class="profile-button-bar">
    <a href="gilbertlistings.html">Listings</a>
    <a href="gilbertsales.html">Sales</a>
    <a href="gilbertorders.html">Orders</a>
    <a href="gilbertinfo.html">Info</a>
    <a href="gilberthelp.html">Help</a>
</div>
<main class="main">
<h2>Edit profile</h2>
<form th:action="@{/edituser}" th:object="${user}" th:method="post" enctype="multipart/form-data">
    <div class="form-group">
        <input type="hidden" th:field="*{id}">
        <label for="name">Name</label>
        <input type="text" id="name" th:field="*{name}">
        <label for="email">Email</label>
        <input type="email" id="email" th:field="*{email}">
        <label for="password">Password</label>
        <input type="password" id="password" th:field="*{password}">
        <label for="image">Picture</label>
        <input type="file" id="image" name="image" accept="image/*">
        <button type="submit">submit</button>
    </div>
</form>
</main>
<div class="alert alert-danger" th:if="${message}">
    <strong>Fejl </strong><span th:text="${message}"></span>
</div>
<nav class="mobile-nav">
    <div class="nav-container">
        <a href="/">
            <img src="/icons/home2.png" class="icon" alt="Home">
        </a>
        <a href="/search">
            <img src="/icons/sg.png" class="icon" alt="Search">
        </a>
        <a href="/favorites">
            <img src="/icons/heart.png" class="icon" alt="Favorites">
        </a>
        <a href="/gilbertprofile">
            <img src="/icons/profil.png" class="icon" alt="Profile">
        </a>
        <a href="/notifications">
            <img src="/icons/notification.png" class="icon" alt="Notifications">
        </a>
    </div>
</nav>



<main>
    <div class="deleteUser">
        <button th:onclick="'deleteUser();'">Delete user</button>
    </div>
</main>

<script>
    function deleteUser() {
        if (confirm('You are about to delete your profile. Continue?')) {
            fetch('/deleteuser', {
                method: 'DELETE'
            }).then(response => {
                console.log(response)
                if (response.status === 200) {
                    alert('User deleted!');
                    window.location.replace("/");
                } else {
                    alert('Cannot delete user');
                }
            });
        }
    }
</script>


<footer class="footer-container">
    <div class="footer-links-bar">
        <a href="/about">About Us</a>
        <a href="/help">Support</a>
        <a href="/terms">Terms & Conditions</a>
        <a href="/privacy">Privacy Policy</a>
    </div>
    <div class="footer-content">
        <div class="footer-contact">
            <p>Contact: info@gilbert.com | +45 1234 5678</p>
            <p>Address: 123 Fashion Street, Copenhagen, Denmark</p>
        </div>
        <div class="footer-social">
            <a href="https://facebook.com/gilbert">Facebook</a>
            <a href="https://instagram.com/gilbert">Instagram</a>
            <a href="https://twitter.com/gilbert">Twitter</a>
        </div>
        <div class="footer-copyright">
            <p>© 2025 ccco</p>
        </div>
    </div>
</footer>
</body>
</html>